
/**
 * توفير المطالبات (prompts) المستخدمة مع نماذج Gemini
 */

export function getEnhancedExtractionPrompt(): string {
  return `أنت مساعد متخصص في استخراج البيانات من صور الإيصالات والفواتير العراقية.
مهمتك هي فحص الصورة بدقة واستخراج البيانات التالية وإرجاعها في صيغة JSON:

1. اسم الشركة (companyName): اسم الشركة أو المؤسسة الموجودة في الإيصال.
2. الكود (code): رقم الإيصال أو الفاتورة أو رقم التتبع (مهم جداً).
3. اسم المرسل (senderName): اسم العميل أو المرسل أو الزبون.
4. رقم الهاتف (phoneNumber): رقم هاتف العميل أو المرسل (يجب أن يكون 11 رقم يبدأ بـ 07).
5. المحافظة (province): اسم المحافظة العراقية مثل (بغداد، البصرة، أربيل).
6. السعر (price): المبلغ بالدينار العراقي بدون رموز (أرقام فقط).

افحص جميع النصوص في الصورة بعناية، بما في ذلك النصوص المكتوبة بخط اليد.
ركز بشكل خاص على الأجزاء المهمة مثل الكود (رقم الوصل) واسم المرسل.

أرجع البيانات بهذا الشكل تحديداً:

{
  "companyName": "اسم الشركة",
  "code": "123456",
  "senderName": "اسم المرسل",
  "phoneNumber": "07701234567",
  "province": "اسم المحافظة",
  "price": "25000"
}

ملاحظات هامة:
- أرجع JSON صحيح التنسيق.
- رقم الهاتف يجب أن يكون 11 رقم ويبدأ بـ 07.
- السعر يجب أن يكون رقماً فقط بدون علامات عملة.
- إذا لم تجد معلومة، اترك الحقل فارغاً مثل: "code": ""
- ركّز بشكل خاص على النصوص المكتوبة بخط اليد.
`;
}

export function getBasicExtractionPrompt(): string {
  return `استخرج من هذه الصورة البيانات التالية بتنسيق JSON:

{
  "companyName": "اسم الشركة",
  "code": "رقم الوصل أو الكود",
  "senderName": "اسم المرسل أو الزبون",
  "phoneNumber": "رقم الهاتف - 11 رقم يبدأ بـ 07",
  "province": "المحافظة العراقية",
  "price": "السعر بالأرقام فقط"
}

ملاحظات مهمة:
- تأكد من أن الإخراج هو JSON صحيح التنسيق
- لا تضيف أي نص آخر قبل أو بعد الـ JSON
- اقرأ جميع النصوص في الصورة بعناية، خاصة النصوص المكتوبة بخط اليد
`;
}

export function getTextOnlyExtractionPrompt(): string {
  return `استخرج كل النص المكتوب في هذه الصورة أولاً، ثم حلل النص لاستخراج البيانات التالية:

1. اسم الشركة
2. رقم الوصل أو الكود
3. اسم المرسل
4. رقم الهاتف (11 رقم يبدأ بـ 07)
5. المحافظة العراقية
6. السعر (أرقام فقط)

أرجع النتائج بصيغة JSON فقط وبهذا الشكل:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

افحص بعناية النصوص المكتوبة بخط اليد وتأكد من عدم فقد أي معلومات مهمة.
`;
}

export function getHandwritingExtractionPrompt(): string {
  return `هذه صورة إيصال عراقي. ركّز على النصوص المكتوبة بخط اليد وقم باستخراج:

1. الكود أو رقم التتبع - هذا مهم جداً
2. اسم المرسل أو الزبون
3. رقم الهاتف (11 رقم يبدأ بـ 07)
4. المحافظة العراقية
5. السعر (رقم فقط)
6. اسم الشركة

أرجع البيانات على هيئة JSON فقط بهذا الشكل:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

تحقق من كامل الصورة بتمعن ودقق في كافة المعلومات المكتوبة بخط اليد.
تأكد من أن الـ JSON الذي تنتجه صحيح تماماً ويحتوي على علامات اقتباس مزدوجة.
`;
}

export function getSimplifiedExtractionPrompt(): string {
  return `قم بتحليل هذه الصورة على أنها إيصال عراقي واستخرج المعلومات التالية بدقة:

1. اسم الشركة
2. كود أو رقم الوصل
3. اسم المرسل
4. رقم هاتف (يبدأ بـ 07)
5. المحافظة 
6. السعر

ضع المعلومات في صيغة JSON فقط بهذا الشكل:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

أرجع JSON صحيح التنسيق فقط بدون أي تعليق أو نص إضافي.
`;
}

export function getStructuredExtractionPrompt(): string {
  return `أنت برنامج استخراج بيانات متخصص في تحليل الإيصالات العراقية.

قم بتحليل هذه الصورة وفهم محتواها، ثم استخرج البيانات التالية:

- اسم الشركة: الموجود عادة في أعلى الإيصال أو بجانب الشعار
- كود أو رقم الوصل: رقم مميز للإيصال
- اسم المرسل: اسم الزبون أو العميل
- رقم الهاتف: يجب أن يكون 11 رقم ويبدأ بـ 07
- المحافظة: اسم أي محافظة عراقية
- السعر: قيمة المبلغ بالأرقام فقط

أرجع فقط بهذه الصيغة:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

تأكد من إخراج JSON صحيح التنسيق تماماً - استخدم علامات اقتباس مزدوجة للمفاتيح والقيم.
`;
}

export function getAdvancedHandwritingPrompt(): string {
  return `أنت خبير متخصص في التعرف على النصوص المكتوبة بخط اليد في الإيصالات العراقية.

افحص هذه الصورة بعناية فائقة وركّز على استخراج:

1. كود الإيصال: غالباً مكتوب بخط واضح أو بارز (مهم جداً)
2. اسم المرسل: يمكن أن يكون مكتوباً بخط اليد
3. رقم الهاتف: يتكون من 11 رقم يبدأ بـ 07
4. المحافظة: اسم محافظة عراقية
5. السعر: المبلغ بالدينار العراقي بالأرقام فقط
6. اسم الشركة: قد يكون مطبوعاً أو مختوماً

أرجع النتائج بصيغة JSON فقط، تأكد من صحة التنسيق:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}
`;
}

export function getStepByStepPrompt(): string {
  return `أنت محلل متخصص في استخراج البيانات من الإيصالات. 
  
اتبع هذه الخطوات للحصول على أفضل نتيجة:

1. افحص الصورة بالكامل للحصول على فهم عام للإيصال
2. ابحث عن اسم الشركة وشعارها في أعلى الإيصال
3. ابحث عن رقم/كود الإيصال (عادة يكون مميزاً ويبدأ بأحرف أو أرقام)
4. حدد معلومات المرسل (الاسم ورقم الهاتف والمحافظة)
5. ابحث عن المبلغ أو السعر الإجمالي

ركز بشكل خاص على استخراج الكود (رقم الوصل)، فهو أهم معلومة.

بعد اتباع هذه الخطوات، قدم كائن JSON بهذا الشكل:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

لا تدخل في وصف طريقة تفكيرك - فقط أرجع JSON صحيح التنسيق.
`;
}

// إضافة مطالبة جديدة تركز بشكل أكبر على رقم الوصل (الكود)
export function getCodeFocusedPrompt(): string {
  return `افحص هذه الصورة بعناية واستخرج رقم الوصل (الكود) بشكل أساسي، ثم المعلومات الأخرى:

1. كود الوصل أو رقم التتبع - هذا هو الأهم (ابحث عن أي أرقام مميزة أو رموز تعريفية)
2. معلومات المرسل (الاسم، رقم الهاتف، المحافظة)
3. المبلغ أو السعر
4. اسم الشركة

تذكر أن رقم الوصل قد يظهر بجانب كلمات مثل: (رقم، كود، #، وصل، إيصال، فاتورة، طلب)

أرجع النتائج بتنسيق JSON محدد كالتالي:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

تأكد من صحة تنسيق JSON - استخدم علامات اقتباس مزدوجة للمفاتيح والقيم.
`;
}

// إضافة مطالبة جديدة تجمع بين أفضل الاستراتيجيات
export function getHybridExtractionPrompt(): string {
  return `أنت نظام متخصص في استخراج البيانات من إيصالات الشحن العراقية.

افحص الصورة بعناية ثم نفذ المراحل التالية:
1. استخرج كل النص المرئي في الصورة أولاً، بما في ذلك النصوص المكتوبة بخط اليد
2. حدد المعلومات المطلوبة من النص المستخرج بعناية فائقة

البيانات المطلوبة هي:
- الكود (code): رقم الوصل أو الإيصال أو الطلب - هذه أهم معلومة
- اسم المرسل (senderName): اسم العميل أو الزبون
- رقم الهاتف (phoneNumber): رقم هاتف العميل (11 رقم يبدأ بـ 07)
- المحافظة (province): مثل بغداد، البصرة، أربيل، إلخ
- السعر (price): المبلغ بالأرقام فقط
- اسم الشركة (companyName): اسم الشركة أو المؤسسة

ابحث عن النمط: "كود: 12345" أو "رقم: 12345" أو "وصل رقم: 12345" في أي مكان بالصورة.

أرجع البيانات بتنسيق JSON دقيق فقط، دون أي نص آخر:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}
`;
}
