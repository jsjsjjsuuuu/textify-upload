
/**
 * توفير المطالبات (prompts) المستخدمة مع نماذج Gemini
 */

export function getEnhancedExtractionPrompt(): string {
  return `أنت مساعد متخصص في استخراج البيانات من صور الإيصالات والفواتير العراقية.
مهمتك هي فحص الصورة بدقة واستخراج البيانات التالية وإرجاعها في صيغة JSON:

1. اسم الشركة (companyName): اسم الشركة أو المؤسسة الموجودة في الإيصال.
2. الكود (code): رقم الإيصال أو الفاتورة أو رقم التتبع (مهم جداً).
3. اسم المرسل (senderName): اسم العميل أو المرسل أو الزبون.
4. رقم الهاتف (phoneNumber): رقم هاتف العميل أو المرسل (يجب أن يكون 11 رقم يبدأ بـ 07).
5. المحافظة (province): اسم المحافظة العراقية مثل (بغداد، البصرة، أربيل).
6. السعر (price): المبلغ بالدينار العراقي بدون رموز (أرقام فقط).

حلل الصورة بدقة واستخرج البيانات بهذا الشكل فقط:

{
  "companyName": "اسم الشركة",
  "code": "123456",
  "senderName": "اسم المرسل",
  "phoneNumber": "07701234567",
  "province": "اسم المحافظة",
  "price": "25000"
}

ملاحظات هامة:
- أرجع JSON فقط بدون أي نص إضافي.
- رقم الهاتف يجب أن يكون 11 رقم ويبدأ بـ 07.
- السعر يجب أن يكون رقماً فقط بدون علامات عملة.
- إذا لم تجد معلومة، اترك الحقل فارغاً مثل: "code": ""
- اقرأ جميع النصوص في الصورة بعناية قبل الاستخراج.
- ركّز بشكل خاص على النصوص المكتوبة بخط اليد.
`;
}

export function getBasicExtractionPrompt(): string {
  return `استخرج من هذه الصورة البيانات التالية وارجعها بصيغة JSON فقط:

{
  "companyName": "اسم الشركة",
  "code": "رقم الوصل أو الكود",
  "senderName": "اسم المرسل أو الزبون",
  "phoneNumber": "رقم الهاتف - 11 رقم يبدأ بـ 07",
  "province": "المحافظة العراقية",
  "price": "السعر بالأرقام فقط"
}

ملاحظات:
- اقرأ النص في الصورة بعناية
- لا تضيف أي نص خارج هيكل JSON
- ارجع JSON فقط بدون أي كلام إضافي
- اقرأ النصوص المكتوبة بخط اليد بعناية`;
}

export function getTextOnlyExtractionPrompt(): string {
  return `استخرج كل النص المكتوب في هذه الصورة أولاً، ثم حلل النص لاستخراج البيانات التالية:

- اسم الشركة
- رقم الوصل أو الكود
- اسم المرسل
- رقم الهاتف (11 رقم يبدأ بـ 07)
- المحافظة العراقية
- السعر (أرقام فقط)

أرجع النتائج بصيغة JSON فقط:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

لا تكتب أي نص آخر. فقط أرجع كائن JSON. ركّز على النصوص المكتوبة بخط اليد.`;
}

export function getHandwritingExtractionPrompt(): string {
  return `هذه صورة إيصال عراقي. ركّز على النصوص المكتوبة بخط اليد وقم باستخراج:

1. الكود أو رقم التتبع
2. اسم المرسل أو الزبون
3. رقم الهاتف (11 رقم يبدأ بـ 07)
4. المحافظة العراقية
5. السعر (رقم فقط)
6. اسم الشركة

أرجع البيانات على هيئة JSON فقط بهذا الشكل:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

لا تكتب أي شيء آخر غير كائن JSON. انتبه للأرقام والكلمات المكتوبة بخط اليد.`;
}

export function getSimplifiedExtractionPrompt(): string {
  return `قم بتحليل هذه الصورة واستخراج المعلومات التالية:

1. اسم الشركة
2. كود أو رقم الوصل
3. اسم المرسل
4. رقم هاتف (يبدأ بـ 07)
5. المحافظة 
6. السعر

ضع المعلومات في صيغة JSON فقط بهذا الشكل:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

ملاحظة: ارجع JSON فقط بدون أي نص آخر. ركز على النصوص المكتوبة بخط اليد في الإيصال.`;
}

export function getStructuredExtractionPrompt(): string {
  return `أنت برنامج استخراج بيانات متخصص في تحليل الإيصالات العراقية.

قم بتحليل هذه الصورة وفهم محتواها، ثم استخرج البيانات التالية:

- اسم الشركة: الموجود عادة في أعلى الإيصال أو بجانب الشعار
- كود أو رقم الوصل: رقم مميز للإيصال
- اسم المرسل: اسم الزبون أو العميل
- رقم الهاتف: يجب أن يكون 11 رقم ويبدأ بـ 07
- المحافظة: اسم أي محافظة عراقية
- السعر: قيمة المبلغ بالأرقام فقط

أرجع فقط بهذه الصيغة دون إضافة أي تفسيرات:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

ملاحظة هامة: ركّز بشكل خاص على النصوص المكتوبة بخط اليد وتأكد من قراءتها بدقة.`;
}

// إضافة مطالبة جديدة مخصصة لمعالجة الحالات الصعبة
export function getAdvancedHandwritingPrompt(): string {
  return `أنت خبير في التعرف على النصوص المكتوبة بخط اليد في الإيصالات العراقية.

افحص هذه الصورة بعناية شديدة وركّز على استخراج:

1. كود الإيصال: غالباً مكتوب بخط واضح أو بارز
2. اسم المرسل: يمكن أن يكون مكتوباً بخط اليد
3. رقم الهاتف: يتكون من 11 رقم يبدأ بـ 07
4. المحافظة: اسم محافظة عراقية
5. السعر: المبلغ بالدينار العراقي
6. اسم الشركة: قد يكون مطبوعاً أو مختوماً

أرجع النتائج بصيغة JSON فقط:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

تذكر: تجاهل أي نصوص غير ذات صلة وركز فقط على هذه البيانات المحددة. إذا كان هناك أي لبس، حاول تقديم أفضل تخمين معقول.`;
}

// إضافة مطالبة جديدة تستخدم أسلوب التفكير خطوة بخطوة
export function getStepByStepPrompt(): string {
  return `أنت محلل متخصص في استخراج البيانات من الإيصالات. 
  
اتبع هذه الخطوات للحصول على أفضل نتيجة:

1. أولاً، افحص الصورة بالكامل للحصول على فهم عام للإيصال
2. ابحث عن اسم الشركة وشعارها في أعلى الإيصال
3. ابحث عن رقم/كود الإيصال (عادة يكون مميزاً ويبدأ بأحرف أو أرقام)
4. حدد معلومات المرسل (الاسم ورقم الهاتف والمحافظة)
5. ابحث عن المبلغ أو السعر الإجمالي

بعد اتباع هذه الخطوات، قدم فقط كائن JSON بهذا الشكل:

{
  "companyName": "",
  "code": "",
  "senderName": "",
  "phoneNumber": "",
  "province": "",
  "price": ""
}

ملاحظة هامة: لا تقدم أي شرح أو تحليل، فقط قدم كائن JSON المطلوب. تأكد من قراءة النصوص المكتوبة بخط اليد بدقة.`;
}
